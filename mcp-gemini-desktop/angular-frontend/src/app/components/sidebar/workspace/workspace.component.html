@if (workspaceState$(); as state) {
  <div class="workspace-container">
    @if (!state.isLoading && !state.error) {
      <div class="workspace-content">
        <mat-icon>folder</mat-icon>
        <span class="workspace-name">{{ extractFolderName(state.path) }}</span>
        <button mat-icon-button (click)="promptForWorkspace()" [disabled]="state.isLoading">
          <mat-icon>{{ state.path ? 'sync_alt' : 'add_circle_outline' }}</mat-icon>
        </button>
      </div>
    }
    @if (state.isLoading) {
      <div class="loading-container">
        <mat-spinner diameter="24"></mat-spinner>
      </div>
    }
    @if (state.error) {
      <div class="error-container">
        <mat-icon color="warn">error_outline</mat-icon>
        <p class="error-message">{{ state.error }}</p>
      </div>
    }
  </div>
}
